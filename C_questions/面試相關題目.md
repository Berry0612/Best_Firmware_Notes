你好，我是今天的面試官。很高興看到你有備而來。

既然你是應徵韌體工程師，C 語言的底層觀念對我們來說至關重要。我們不會只考語法，更看重你對編譯器行為和硬體互動的理解。我已經看過你搜集的題庫，我們會依照這些重點概念來進行測驗。

那我們就直接開始吧。

【第一題：C 語言關鍵字】

請你分別解釋 const、static 以及 volatile 這三個關鍵字在 C 語言中的意義與用途。

特別針對 volatile，請告訴我：在韌體（Firmware）開發的場景下，什麼時候我們「必須」使用它？如果不使用會發生什麼事？

---
1.const 代表該變數為唯讀，只能讀取其中數值而不能修改

2.static 在函數內宣告，代表即使函數結束，該變數的生存週期依然存在。

對於別的檔案來說static可以隱藏該函數，使得別的檔案無法 extern 存取他。

3.volatile 提醒編譯器不要最佳化該變數，而是每次讀取都要重新訪外該記憶體。

如果沒有 volatile 在有些情況下編譯器會自行優化成非預期行為，例如使用while迴圈，設定變數flag等於1，放進while迴圈中，編譯器可能會認為該迴圈就是無限迴圈，事實上，也許有放ISR程序控制flag的參數，但是如果沒有volatile的話，就會變成無限迴圈。

#補充

1. 使用const儲存常量會被放置在flash中，節省SRAM空間，但是犧牲效能。

2. 

3. Memory-Mapped I/O（存取硬體暫存器）。 多執行緒（Multi-thread）共用的 Global Variable（視架構與同步機制而定）。


---


